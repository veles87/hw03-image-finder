{"code":"(this[\"webpackJsonphw03-image-finder\"]=this[\"webpackJsonphw03-image-finder\"]||[]).push([[0],{17:function(e,t,a){},19:function(e,t,a){},42:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),o=a(8),s=a.n(o),c=(a(17),a(7)),i=a.n(c),l=a(11),u=a(9),h=a(3),m=a(4),d=a(6),p=a(5),b=(a(19),function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"\".concat(\"https://pixabay.com/api/\",\"?q=\").concat(t,\"&page=\").concat(a,\"&key=\").concat(\"11753469-fae5ae7c0c549b8c5c7373ba2\",\"&image_type=photo&orientation=horizontal&per_page=12\"));case 2:if((n=e.sent).ok){e.next=5;break}throw n;case 5:return e.next=7,n.json();case 7:return r=e.sent,e.abrupt(\"return\",r);case 9:case\"end\":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),j=b,f=a(1),g=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={value:\"\"},e.changeHandler=function(t){e.setState({value:t.target.value})},e.submitHandler=function(t){t.preventDefault(),e.props.onSubmit(e.state.value.trim())},e}return Object(m.a)(a,[{key:\"render\",value:function(){return Object(f.jsx)(\"header\",{className:\"Searchbar\",children:Object(f.jsxs)(\"form\",{className:\"SearchForm\",onSubmit:this.submitHandler,children:[Object(f.jsx)(\"button\",{type:\"submit\",className:\"SearchForm-button\",children:Object(f.jsx)(\"span\",{className:\"SearchForm-button-label\",children:\"Search\"})}),Object(f.jsx)(\"input\",{className:\"SearchForm-input\",type:\"text\",autoComplete:\"off\",autoFocus:!0,placeholder:\"Search images and photos\",onChange:this.changeHandler,value:this.state.value})]})})}}]),a}(n.Component),O=g,v=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:\"render\",value:function(){return Object(f.jsx)(\"li\",{className:\"ImageGalleryItem\",children:Object(f.jsx)(\"img\",{src:this.props.webformatURL,alt:\"\",className:\"ImageGalleryItem-image\",onClick:this.props.showImageHandle})})}}]),a}(n.Component),y=v,x=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:\"render\",value:function(){var e=this;return Object(f.jsx)(\"ul\",{className:\"ImageGallery\",children:this.props.images.map((function(t,a){return Object(f.jsx)(y,{webformatURL:t.webformatURL,showImageHandle:e.props.showImageHandler(t.largeImageURL),index:a},t.id)}))})}}]),a}(n.Component),w=x,H=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:\"render\",value:function(){return Object(f.jsx)(\"button\",{type:\"button\",className:\"Button\",onClick:this.props.loadMoreHandler,children:\"Load more\"})}}]),a}(n.Component),k=H,S=a(12),I=a.n(S),L=(a(41),function(){return Object(f.jsx)(\"div\",{className:\"Loader\",children:Object(f.jsx)(I.a,{type:\"Bars\",color:\"#3f51b5\",height:60,width:120})})}),C=document.querySelector(\"#modal-root\"),M=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).keyDownHandler=function(t){\"Escape\"===t.code&&e.props.onClose()},e.overlayClickHandler=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(m.a)(a,[{key:\"componentDidMount\",value:function(){window.addEventListener(\"keydown\",this.keyDownHandler)}},{key:\"componentWillUnmount\",value:function(){window.removeEventListener(\"keydown\",this.keyDownHandler)}},{key:\"render\",value:function(){return Object(o.createPortal)(Object(f.jsx)(\"div\",{className:\"Overlay\",onClick:this.overlayClickHandler,children:Object(f.jsx)(\"div\",{className:\"Modal\",children:Object(f.jsx)(\"img\",{src:this.props.fullImageURL,alt:\"\"})})}),C)}}]),a}(n.Component),N=M,U=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={images:[],searchQuery:\"\",page:1,isLoading:!1,openModal:!1,error:\"\"},e.maxPages=0,e.fullImageURL=\"\",e.newElementHight=0,e.closeModal=function(){e.fullImageURL=\"\",e.setState({openModal:!1})},e.showImageHandler=function(t){return function(){e.fullImageURL=t,e.setState({openModal:!0})}},e.scrollToHandler=function(){setTimeout((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:\"smooth\"})}),750)},e.searchImagesHandler=Object(u.a)(i.a.mark((function t(){var a,n,r,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,n=a.searchQuery,r=a.page,e.setState({isLoading:!0,error:\"\"}),t.prev=2,t.next=5,j(n,r);case 5:0!==(o=t.sent).total?(e.maxPages=Math.ceil(o.totalHits/12),e.setState((function(e){var t=e.images;return{images:[].concat(Object(l.a)(t),Object(l.a)(o.hits))}}))):e.setState((function(){return{images:[],error:\"No results were found for your search.\"}})),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0),e.setState((function(){return{error:t.t0.toString()}}));case 13:return t.prev=13,e.setState({isLoading:!1}),t.finish(13);case 16:case\"end\":return t.stop()}}),t,null,[[2,9,13,16]])}))),e.loadMoreHandler=function(){e.setState((function(){return{page:Math.min(e.maxPages,e.state.page+1)}}))},e.onSubmitHandler=function(t){e.maxPages=0,e.setState((function(){return{images:[],searchQuery:t,page:1}}))},e}return Object(m.a)(a,[{key:\"componentDidUpdate\",value:function(e,t){(t.searchQuery!==this.state.searchQuery&&\"\"!==this.state.searchQuery||t.page!==this.state.page)&&this.searchImagesHandler(),t.images.length!==this.state.images.length&&0!==t.images.length&&this.scrollToHandler()}},{key:\"render\",value:function(){return Object(f.jsxs)(\"div\",{className:\"App\",children:[Object(f.jsx)(O,{onSubmit:this.onSubmitHandler}),this.state.error?Object(f.jsx)(\"p\",{className:\"ErrorText\",children:this.state.error}):Object(f.jsx)(w,{images:this.state.images,showImageHandler:this.showImageHandler,scrollToHandler:this.scrollToHandler}),this.state.isLoading&&Object(f.jsx)(L,{}),this.state.page<this.maxPages&&Object(f.jsx)(k,{loadMoreHandler:this.loadMoreHandler}),this.state.openModal&&Object(f.jsx)(N,{fullImageURL:this.fullImageURL,onClose:this.closeModal})]})}}]),a}(n.Component),R=U;s.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(R,{})}),document.getElementById(\"root\"))}},[[42,1,2]]]);","name":"static/js/main.f54ce9fb.chunk.js","map":{"version":3,"sources":["static/js/main.f54ce9fb.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","regenerator","regenerator_default","toConsumableArray","asyncToGenerator","classCallCheck","createClass","inherits","createSuper","fetchImages","_ref","Object","a","mark","_callee","searchQuery","page","rawResult","result","wrap","_context","prev","next","fetch","concat","sent","ok","json","abrupt","stop","_x","_x2","apply","arguments","apiService","jsx_runtime","Searchbar_Searchbar","_Component","Searchbar","_super","_this","_len","length","args","Array","_key","call","state","value","changeHandler","e","setState","target","submitHandler","preventDefault","props","onSubmit","trim","key","className","children","type","autoComplete","autoFocus","placeholder","onChange","components_Searchbar_Searchbar","ImageGalleryItem_ImageGalleryItem","ImageGalleryItem","src","webformatURL","alt","onClick","showImageHandle","components_ImageGalleryItem_ImageGalleryItem","ImageGallery_ImageGallery","ImageGallery","images","map","image","index","showImageHandler","largeImageURL","id","components_ImageGallery_ImageGallery","Button_Button","Button","loadMoreHandler","components_Button_Button","dist","dist_default","components_Loader_Loader","color","height","width","modalRoot","document","querySelector","Modal_Modal","Modal","keyDownHandler","code","onClose","overlayClickHandler","event","currentTarget","window","addEventListener","removeEventListener","fullImageURL","components_Modal_Modal","App_App","App","isLoading","openModal","error","maxPages","newElementHight","closeModal","imageUrl","scrollToHandler","setTimeout","scrollTo","top","documentElement","scrollHeight","behavior","searchImagesHandler","_this$state","total","Math","ceil","totalHits","_ref2","hits","t0","console","toString","finish","min","onSubmitHandler","searchString","prevProps","prevState","src_App","render","StrictMode","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonphw03-image-finder\"] = this[\"webpackJsonphw03-image-finder\"] || []).push([[0],{\n\n/***/ 17:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 19:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 42:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(8);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(7);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 5 modules\nvar toConsumableArray = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createSuper.js + 5 modules\nvar createSuper = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./src/styles.css\nvar styles = __webpack_require__(19);\n\n// CONCATENATED MODULE: ./src/services/apiService.js\nvar BASE_URL='https://pixabay.com/api/';var API_KEY='11753469-fae5ae7c0c549b8c5c7373ba2';var fetchImages=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(searchQuery,page){var rawResult,result;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(BASE_URL,\"?q=\").concat(searchQuery,\"&page=\").concat(page,\"&key=\").concat(API_KEY,\"&image_type=photo&orientation=horizontal&per_page=12\"));case 2:rawResult=_context.sent;if(rawResult.ok){_context.next=5;break;}throw rawResult;case 5:_context.next=7;return rawResult.json();case 7:result=_context.sent;return _context.abrupt(\"return\",result);case 9:case\"end\":return _context.stop();}}},_callee);}));return function fetchImages(_x,_x2){return _ref.apply(this,arguments);};}();// import axios from 'axios';\n// const fetchArticlesWithQuery = searchQuery => {\n//   return axios\n//     .get(`https://hn.algolia.com/api/v1/search?query=${searchQuery}`)\n//     .then(response => response.data.hits);\n// };\n// export default {\n//   fetchArticlesWithQuery,\n// };\n/* harmony default export */ var apiService = (fetchImages);\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/components/Searchbar/Searchbar.js\nvar Searchbar_Searchbar=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(Searchbar,_Component);var _super=Object(createSuper[\"a\" /* default */])(Searchbar);function Searchbar(){var _this;Object(classCallCheck[\"a\" /* default */])(this,Searchbar);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={value:''};_this.changeHandler=function(e){_this.setState({value:e.target.value});};_this.submitHandler=function(e){e.preventDefault();_this.props.onSubmit(_this.state.value.trim());};return _this;}Object(createClass[\"a\" /* default */])(Searchbar,[{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"header\",{className:\"Searchbar\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"SearchForm\",onSubmit:this.submitHandler,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"SearchForm-button\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"SearchForm-button-label\",children:\"Search\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"SearchForm-input\",type:\"text\",autoComplete:\"off\",autoFocus:true,placeholder:\"Search images and photos\",onChange:this.changeHandler,value:this.state.value})]})});}}]);return Searchbar;}(react[\"Component\"]);/* harmony default export */ var components_Searchbar_Searchbar = (Searchbar_Searchbar);\n// CONCATENATED MODULE: ./src/components/Searchbar/index.js\n\n// CONCATENATED MODULE: ./src/components/ImageGalleryItem/ImageGalleryItem.js\nvar ImageGalleryItem_ImageGalleryItem=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(ImageGalleryItem,_Component);var _super=Object(createSuper[\"a\" /* default */])(ImageGalleryItem);function ImageGalleryItem(){Object(classCallCheck[\"a\" /* default */])(this,ImageGalleryItem);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(ImageGalleryItem,[{key:\"render\",value:// componentDidMount(prevProps, prevState) {\n//   console.log(prevProps);\n//   console.log(prevState);\n//   console.log(this.props.index);\n// }\nfunction render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"ImageGalleryItem\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:this.props.webformatURL,alt:\"\",className:\"ImageGalleryItem-image\",onClick:this.props.showImageHandle})});}}]);return ImageGalleryItem;}(react[\"Component\"]);/* harmony default export */ var components_ImageGalleryItem_ImageGalleryItem = (ImageGalleryItem_ImageGalleryItem);\n// CONCATENATED MODULE: ./src/components/ImageGalleryItem/index.js\n\n// CONCATENATED MODULE: ./src/components/ImageGallery/ImageGallery.js\nvar ImageGallery_ImageGallery=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(ImageGallery,_Component);var _super=Object(createSuper[\"a\" /* default */])(ImageGallery);function ImageGallery(){Object(classCallCheck[\"a\" /* default */])(this,ImageGallery);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(ImageGallery,[{key:\"render\",value:// componentDidUpdate(prevProps, prevState) {\n//   console.log('list Update');\n//   window.scrollTo({\n//     top: document.documentElement.scrollHeight,\n//     behavior: 'smooth',\n//   });\n// }\nfunction render(){var _this=this;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{className:\"ImageGallery\",children:this.props.images.map(function(image,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ImageGalleryItem_ImageGalleryItem,{webformatURL:image.webformatURL,showImageHandle:_this.props.showImageHandler(image.largeImageURL),index:index},image.id);})});}}]);return ImageGallery;}(react[\"Component\"]);/* harmony default export */ var components_ImageGallery_ImageGallery = (ImageGallery_ImageGallery);\n// CONCATENATED MODULE: ./src/components/ImageGallery/index.js\n\n// CONCATENATED MODULE: ./src/components/Button/Button.js\nvar Button_Button=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(Button,_Component);var _super=Object(createSuper[\"a\" /* default */])(Button);function Button(){Object(classCallCheck[\"a\" /* default */])(this,Button);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(Button,[{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"Button\",onClick:this.props.loadMoreHandler,children:\"Load more\"});}}]);return Button;}(react[\"Component\"]);/* harmony default export */ var components_Button_Button = (Button_Button);\n// CONCATENATED MODULE: ./src/components/Button/index.js\n\n// EXTERNAL MODULE: ./node_modules/react-loader-spinner/dist/index.js\nvar dist = __webpack_require__(12);\nvar dist_default = /*#__PURE__*/__webpack_require__.n(dist);\n\n// EXTERNAL MODULE: ./node_modules/react-loader-spinner/dist/loader/css/react-spinner-loader.css\nvar react_spinner_loader = __webpack_require__(41);\n\n// CONCATENATED MODULE: ./src/components/Loader/Loader.js\nvar Loader_Loader=function Loader(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"Loader\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist_default.a,{type:\"Bars\",color:\"#3f51b5\",height:60,width:120})});};/* harmony default export */ var components_Loader_Loader = (Loader_Loader);\n// CONCATENATED MODULE: ./src/components/Loader/index.js\n\n// CONCATENATED MODULE: ./src/components/Modal/Modal.js\nvar modalRoot=document.querySelector('#modal-root');var Modal_Modal=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(Modal,_Component);var _super=Object(createSuper[\"a\" /* default */])(Modal);function Modal(){var _this;Object(classCallCheck[\"a\" /* default */])(this,Modal);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.keyDownHandler=function(e){if(e.code==='Escape'){_this.props.onClose();}};_this.overlayClickHandler=function(event){if(event.currentTarget===event.target){_this.props.onClose();}};return _this;}Object(createClass[\"a\" /* default */])(Modal,[{key:\"componentDidMount\",value:function componentDidMount(){window.addEventListener('keydown',this.keyDownHandler);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){window.removeEventListener('keydown',this.keyDownHandler);}},{key:\"render\",value:function render(){return/*#__PURE__*/Object(react_dom[\"createPortal\"])(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"Overlay\",onClick:this.overlayClickHandler,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"Modal\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:this.props.fullImageURL,alt:\"\"})})}),modalRoot);}}]);return Modal;}(react[\"Component\"]);/* harmony default export */ var components_Modal_Modal = (Modal_Modal);\n// CONCATENATED MODULE: ./src/App.js\nvar App_App=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(App,_Component);var _super=Object(createSuper[\"a\" /* default */])(App);function App(){var _this;Object(classCallCheck[\"a\" /* default */])(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={images:[],searchQuery:'',page:1,isLoading:false,openModal:false,error:''};_this.maxPages=0;_this.fullImageURL='';_this.newElementHight=0;_this.closeModal=function(){_this.fullImageURL='';_this.setState({openModal:false});};_this.showImageHandler=function(imageUrl){return function(){_this.fullImageURL=imageUrl;_this.setState({openModal:true});};};_this.scrollToHandler=function(){setTimeout(function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:'smooth'});},750);};_this.searchImagesHandler=/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var _this$state,searchQuery,page,result;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$state=_this.state,searchQuery=_this$state.searchQuery,page=_this$state.page;_this.setState({isLoading:true,error:''});_context.prev=2;_context.next=5;return apiService(searchQuery,page);case 5:result=_context.sent;if(result.total!==0){_this.maxPages=Math.ceil(result.totalHits/12);_this.setState(function(_ref2){var images=_ref2.images;return{images:[].concat(Object(toConsumableArray[\"a\" /* default */])(images),Object(toConsumableArray[\"a\" /* default */])(result.hits))};});}else{// console.log('Not found');\n_this.setState(function(){return{images:[],error:'No results were found for your search.'};});}_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);console.error(_context.t0);_this.setState(function(){return{error:_context.t0.toString()};});case 13:_context.prev=13;_this.setState({isLoading:false});// this.scrollToHandler();\nreturn _context.finish(13);case 16:case\"end\":return _context.stop();}}},_callee,null,[[2,9,13,16]]);}));_this.loadMoreHandler=function(){_this.setState(function(){return{page:Math.min(_this.maxPages,_this.state.page+1)};});};_this.onSubmitHandler=function(searchString){_this.maxPages=0;_this.setState(function(){return{images:[],searchQuery:searchString,page:1};});};return _this;}Object(createClass[\"a\" /* default */])(App,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(prevState.searchQuery!==this.state.searchQuery&&this.state.searchQuery!==''||prevState.page!==this.state.page){this.searchImagesHandler();// this.scrollToHandler();\n}if(prevState.images.length!==this.state.images.length&&prevState.images.length!==0){// console.log('scrollToHandler App DidUpdate');\nthis.scrollToHandler();}}},{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"App\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Searchbar_Searchbar,{onSubmit:this.onSubmitHandler}),this.state.error?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"ErrorText\",children:this.state.error}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ImageGallery_ImageGallery,{images:this.state.images,showImageHandler:this.showImageHandler,scrollToHandler:this.scrollToHandler}),this.state.isLoading&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Loader_Loader,{}),this.state.page<this.maxPages&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Button_Button,{loadMoreHandler:this.loadMoreHandler}),this.state.openModal&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Modal_Modal,{fullImageURL:this.fullImageURL,onClose:this.closeModal})]});}}]);return App;}(react[\"Component\"]);/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\n// import reportWebVitals from './reportWebVitals';\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n\n/***/ })\n\n},[[42,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/maksimcehovskij/Documents/GitHub/React/hw03-image-finder/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/maksimcehovskij/Documents/GitHub/React/hw03-image-finder/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/maksimcehovskij/Documents/GitHub/React/hw03-image-finder/node_modules/postcss-loader/src/index.js??postcss!/Users/maksimcehovskij/Documents/GitHub/React/hw03-image-finder/src/index.css","/Users/maksimcehovskij/Documents/GitHub/React/hw03-image-finder/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/maksimcehovskij/Documents/GitHub/React/hw03-image-finder/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/maksimcehovskij/Documents/GitHub/React/hw03-image-finder/node_modules/postcss-loader/src/index.js??postcss!/Users/maksimcehovskij/Documents/GitHub/React/hw03-image-finder/src/styles.css","/Users/maksimcehovskij/Documents/GitHub/React/hw03-image-finder/src/services/apiService.js","/Users/maksimcehovskij/Documents/GitHub/React/hw03-image-finder/src/components/Searchbar/Searchbar.js","/Users/maksimcehovskij/Documents/GitHub/React/hw03-image-finder/src/components/ImageGalleryItem/ImageGalleryItem.js","/Users/maksimcehovskij/Documents/GitHub/React/hw03-image-finder/src/components/ImageGallery/ImageGallery.js","/Users/maksimcehovskij/Documents/GitHub/React/hw03-image-finder/src/components/Button/Button.js","/Users/maksimcehovskij/Documents/GitHub/React/hw03-image-finder/src/components/Loader/Loader.js","/Users/maksimcehovskij/Documents/GitHub/React/hw03-image-finder/src/components/Modal/Modal.js","/Users/maksimcehovskij/Documents/GitHub/React/hw03-image-finder/src/App.js","/Users/maksimcehovskij/Documents/GitHub/React/hw03-image-finder/src/index.js"],"names":["BASE_URL","API_KEY","fetchImages","searchQuery","page","fetch","rawResult","ok","json","result","Searchbar","state","value","changeHandler","e","setState","target","submitHandler","preventDefault","props","onSubmit","trim","Component","ImageGalleryItem","webformatURL","showImageHandle","ImageGallery","images","map","image","index","showImageHandler","largeImageURL","id","Button","loadMoreHandler","Loader","modalRoot","document","querySelector","Modal","keyDownHandler","code","onClose","overlayClickHandler","event","currentTarget","window","addEventListener","removeEventListener","createPortal","fullImageURL","App","isLoading","openModal","error","maxPages","newElementHight","closeModal","imageUrl","scrollToHandler","setTimeout","scrollTo","top","documentElement","scrollHeight","behavior","searchImagesHandler","total","Math","ceil","totalHits","hits","console","toString","min","onSubmitHandler","searchString","prevProps","prevState","length","ReactDOM","render","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '11753469-fae5ae7c0c549b8c5c7373ba2';\n\nconst fetchImages = async (searchQuery, page) => {\n  const rawResult = await fetch(\n    `${BASE_URL}?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  );\n\n  if (!rawResult.ok) {\n    throw rawResult;\n  }\n\n  const result = await rawResult.json();\n\n  return result;\n};\n\n// import axios from 'axios';\n\n// const fetchArticlesWithQuery = searchQuery => {\n//   return axios\n//     .get(`https://hn.algolia.com/api/v1/search?query=${searchQuery}`)\n//     .then(response => response.data.hits);\n// };\n\n// export default {\n//   fetchArticlesWithQuery,\n// };\n\nexport default fetchImages;\n","import { Component } from 'react';\n\nclass Searchbar extends Component {\n  state = {\n    value: '',\n  };\n\n  changeHandler = (e) => {\n    this.setState({ value: e.target.value });\n  };\n\n  submitHandler = (e) => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.value.trim());\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.submitHandler}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.changeHandler}\n            value={this.state.value}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import { Component } from 'react';\n\nclass ImageGalleryItem extends Component {\n  // componentDidMount(prevProps, prevState) {\n  //   console.log(prevProps);\n  //   console.log(prevState);\n  //   console.log(this.props.index);\n  // }\n\n  render() {\n    return (\n      <li className=\"ImageGalleryItem\">\n        <img\n          src={this.props.webformatURL}\n          alt=\"\"\n          className=\"ImageGalleryItem-image\"\n          onClick={this.props.showImageHandle}\n        />\n      </li>\n    );\n  }\n}\n\nexport default ImageGalleryItem;\n","import { Component } from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem';\n\nclass ImageGallery extends Component {\n  // componentDidUpdate(prevProps, prevState) {\n  //   console.log('list Update');\n  //   window.scrollTo({\n  //     top: document.documentElement.scrollHeight,\n  //     behavior: 'smooth',\n  //   });\n  // }\n  render() {\n    return (\n      <ul className=\"ImageGallery\">\n        {this.props.images.map((image, index) => {\n          return (\n            <ImageGalleryItem\n              key={image.id}\n              webformatURL={image.webformatURL}\n              showImageHandle={this.props.showImageHandler(image.largeImageURL)}\n              index={index}\n            />\n          );\n        })}\n      </ul>\n    );\n  }\n}\n\nexport default ImageGallery;\n","import { Component } from 'react';\n\nclass Button extends Component {\n  render() {\n    return (\n      <button type=\"button\" className=\"Button\" onClick={this.props.loadMoreHandler}>\n        Load more\n      </button>\n    );\n  }\n}\nexport default Button;\n","import Spinner from 'react-loader-spinner';\n\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nconst Loader = () => {\n  return (\n    <div className=\"Loader\">\n      <Spinner type=\"Bars\" color=\"#3f51b5\" height={60} width={120} />\n    </div>\n  );\n};\n\nexport default Loader;\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\n\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.keyDownHandler);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.keyDownHandler);\n  }\n\n  keyDownHandler = (e) => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  overlayClickHandler = (event) => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.overlayClickHandler}>\n        <div className=\"Modal\">\n          <img src={this.props.fullImageURL} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import { Component } from 'react';\nimport './styles.css';\n\nimport fetchImages from './services/apiService';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Loader from './components/Loader';\nimport Modal from './components/Modal/Modal';\n\nclass App extends Component {\n  state = {\n    images: [],\n    searchQuery: '',\n    page: 1,\n    isLoading: false,\n    openModal: false,\n    error: '',\n  };\n\n  maxPages = 0;\n  fullImageURL = '';\n  newElementHight = 0;\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      (prevState.searchQuery !== this.state.searchQuery && this.state.searchQuery !== '') ||\n      prevState.page !== this.state.page\n    ) {\n      this.searchImagesHandler();\n      // this.scrollToHandler();\n    }\n    if (prevState.images.length !== this.state.images.length && prevState.images.length !== 0) {\n      // console.log('scrollToHandler App DidUpdate');\n      this.scrollToHandler();\n    }\n  }\n\n  closeModal = () => {\n    this.fullImageURL = '';\n    this.setState({ openModal: false });\n  };\n\n  showImageHandler = (imageUrl) => () => {\n    this.fullImageURL = imageUrl;\n    this.setState({ openModal: true });\n  };\n\n  scrollToHandler = () => {\n    setTimeout(() => {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }, 750);\n  };\n\n  searchImagesHandler = async () => {\n    const { searchQuery, page } = this.state;\n    this.setState({ isLoading: true, error: '' });\n    try {\n      const result = await fetchImages(searchQuery, page);\n\n      if (result.total !== 0) {\n        this.maxPages = Math.ceil(result.totalHits / 12);\n\n        this.setState(({ images }) => ({\n          images: [...images, ...result.hits],\n        }));\n      } else {\n        // console.log('Not found');\n        this.setState(() => ({\n          images: [],\n          error: 'No results were found for your search.',\n        }));\n      }\n    } catch (error) {\n      console.error(error);\n      this.setState(() => ({ error: error.toString() }));\n    } finally {\n      this.setState({ isLoading: false });\n\n      // this.scrollToHandler();\n    }\n  };\n\n  loadMoreHandler = () => {\n    this.setState(() => ({ page: Math.min(this.maxPages, this.state.page + 1) }));\n  };\n\n  onSubmitHandler = (searchString) => {\n    this.maxPages = 0;\n\n    this.setState(() => ({\n      images: [],\n      searchQuery: searchString,\n      page: 1,\n    }));\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.onSubmitHandler} />\n        {this.state.error ? (\n          <p className=\"ErrorText\">{this.state.error}</p>\n        ) : (\n          <ImageGallery\n            images={this.state.images}\n            showImageHandler={this.showImageHandler}\n            scrollToHandler={this.scrollToHandler}\n          />\n        )}\n        {/* <ImageGallery\n          images={this.state.images}\n          showImageHandler={this.showImageHandler}\n          scrollToHandler={this.scrollToHandler}\n        /> */}\n        {this.state.isLoading && <Loader />}\n        {this.state.page < this.maxPages && <Button loadMoreHandler={this.loadMoreHandler} />}\n        {this.state.openModal && (\n          <Modal fullImageURL={this.fullImageURL} onClose={this.closeModal}></Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"]}}